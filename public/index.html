<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subaru Parts Inventory - Alia Fabrication</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”§</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                <circle cx="16" cy="16" r="14" fill="url(#logo-gradient)"/>
                <path d="M16 8L20 16L16 24L12 16L16 8Z" fill="white"/>
                <defs>
                    <linearGradient id="logo-gradient" x1="0" y1="0" x2="32" y2="32">
                        <stop offset="0%" stop-color="#0066CC"/>
                        <stop offset="100%" stop-color="#003D7A"/>
                    </linearGradient>
                </defs>
            </svg>
            <span class="sidebar-title">Alia Fabrication</span>
        </div>
        
        <nav class="sidebar-nav">
            <button class="nav-item active" data-view="oem-parts">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M20 7H4C2.89543 7 2 7.89543 2 9V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V9C22 7.89543 21.1046 7 20 7Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M16 7V5C16 3.89543 15.1046 3 14 3H10C8.89543 3 8 3.89543 8 5V7" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>OEM Parts</span>
            </button>
            <button class="nav-item" data-view="wheels">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                    <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 3V7M12 17V21M3 12H7M17 12H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>Wheel Take-Offs</span>
            </button>
            <button class="nav-item" data-view="quick-add">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect x="3" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                    <rect x="14" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                    <rect x="3" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                    <rect x="14" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>Quick Add Templates</span>
            </button>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- OEM Parts View -->
        <div id="oem-parts-view" class="view active">
            <div class="view-header">
                <div>
                    <h1 class="view-title">OEM Parts Inventory</h1>
                    <p class="view-subtitle">Genuine Subaru replacement parts</p>
                </div>
                <button class="btn btn-primary" onclick="openAddPartModal()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Add Part
                </button>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="--stat-color: #0066CC;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M20 7H4C2.89543 7 2 7.89543 2 9V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V9C22 7.89543 21.1046 7 20 7Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M16 7V5C16 3.89543 15.1046 3 14 3H10C8.89543 3 8 3.89543 8 5V7" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <div>
                        <div class="stat-value" id="oem-total">0</div>
                        <div class="stat-label">Total Parts</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="--stat-color: #00A86B;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 11L12 14L22 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M21 12V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3.89543 3 5 3 5 3H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div>
                        <div class="stat-value" id="oem-in-stock">0</div>
                        <div class="stat-label">In Stock</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="--stat-color: #FF6B35;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                            <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div>
                        <div class="stat-value" id="oem-low-stock">0</div>
                        <div class="stat-label">Low Stock</div>
                    </div>
                </div>
            </div>

            <div class="search-bar">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="8.5" cy="8.5" r="6.5" stroke="currentColor" stroke-width="2"/>
                    <path d="M13 13L17 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <input type="text" id="oem-search" placeholder="Search by part number, name, or category...">
            </div>

            <div class="table-container">
                <table class="inventory-table">
                    <thead>
                        <tr>
                            <th onclick="sortOEMParts('partNumber')" style="cursor: pointer;" title="Click to sort">
                                Part Number
                                <span id="sort-part-number" class="sort-indicator"></span>
                            </th>
                            <th onclick="sortOEMParts('oemPartNumber')" style="cursor: pointer;" title="Click to sort">
                                OEM Part #
                                <span id="sort-oem-part-number" class="sort-indicator"></span>
                            </th>
                            <th onclick="sortOEMParts('partName')" style="cursor: pointer;" title="Click to sort">
                                Name
                                <span id="sort-part-name" class="sort-indicator"></span>
                            </th>
                            <th onclick="sortOEMParts('category')" style="cursor: pointer;" title="Click to sort">
                                Category
                                <span id="sort-category" class="sort-indicator"></span>
                            </th>
                            <th onclick="sortOEMParts('quantity')" style="cursor: pointer;" title="Click to sort">
                                Quantity
                                <span id="sort-quantity" class="sort-indicator"></span>
                            </th>
                            <th>Location</th>
                            <th onclick="sortOEMParts('price')" style="cursor: pointer;" title="Click to sort">
                                Price
                                <span id="sort-price" class="sort-indicator"></span>
                            </th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="oem-parts-tbody">
                        <!-- Data populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Wheels View -->
        <div id="wheels-view" class="view">
            <div class="view-header">
                <div>
                    <h1 class="view-title">OEM Wheel Take-Offs</h1>
                    <p class="view-subtitle">Individual inventory with unique SKUs</p>
                </div>
                <div style="display: flex; gap: 0.625rem;">
                    <button class="btn btn-secondary" onclick="openCSVImportModal()">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M17 13V17H3V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M10 3V15M10 3L6 7M10 3L14 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Import CSV
                    </button>
                    <button class="btn btn-primary" onclick="openAddWheelModal()">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        Add Wheel
                    </button>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="--stat-color: #0066CC;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 2V6M12 18V22M6 12H2M22 12H18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <div>
                        <div class="stat-value" id="wheels-total-value">$0.00</div>
                        <div class="stat-label">Total Inventory Value</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="--stat-color: #00A86B;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 11L12 14L22 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M21 12V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3.89543 3 5 3 5 3H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div>
                        <div class="stat-value" id="wheels-not-sold">0</div>
                        <div class="stat-label">Not Sold</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="--stat-color: #9B59B6;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div>
                        <div class="stat-value" id="wheels-sold">0</div>
                        <div class="stat-label">Sold</div>
                    </div>
                </div>
            </div>

            <div class="search-bar">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="8.5" cy="8.5" r="6.5" stroke="currentColor" stroke-width="2"/>
                    <path d="M13 13L17 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <input type="text" id="wheels-search" placeholder="Search by SKU, model, size, or style...">
            </div>

            <div class="table-container">
                <table class="inventory-table">
                    <thead>
                        <tr>
                            <th>Image</th>
                            <th>SKU</th>
                            <th>Vehicle</th>
                            <th>Size</th>
                            <th>Bolt Pattern</th>
                            <th>Condition</th>
                            <th>Price</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="wheels-tbody">
                        <!-- Data populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Quick Add Templates View -->
        <div id="quick-add-view" class="view">
            <div class="view-header">
                <div>
                    <h1 class="view-title">Quick Add Wheel Templates</h1>
                    <p class="view-subtitle">Save common wheel specifications for fast inventory entry</p>
                </div>
                <button class="btn btn-primary" onclick="openAddTemplateModal()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Add Template
                </button>
            </div>

            <div class="templates-grid" id="templates-grid">
                <!-- Templates will be populated by JavaScript -->
            </div>
        </div>
    </main>

    <!-- OEM Part Modal -->
    <div id="part-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="part-modal-title">Add OEM Part</h2>
                <button class="modal-close" onclick="closePartModal()">&times;</button>
            </div>
            <form id="part-form">
                <input type="hidden" id="part-id">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="part-number">Part Number *</label>
                        <input type="text" id="part-number" required placeholder="e.g., 84981AL00A">
                    </div>
                    <div class="form-group">
                        <label for="part-oem-number">OEM Part Number</label>
                        <input type="text" id="part-oem-number" placeholder="e.g., 809103S000">
                    </div>
                    <div class="form-group">
                        <label for="part-name">Part Name *</label>
                        <input type="text" id="part-name" required placeholder="e.g., Hood Latch">
                    </div>
                    <div class="form-group">
                        <label for="part-category">Category</label>
                        <input type="text" id="part-category" placeholder="e.g., Body Parts">
                    </div>
                    <div class="form-group">
                        <label for="part-quantity">Quantity *</label>
                        <input type="number" id="part-quantity" required min="0" value="1">
                    </div>
                    <div class="form-group">
                        <label for="part-location">Location</label>
                        <input type="text" id="part-location" placeholder="e.g., Shelf A3">
                    </div>
                    <div class="form-group">
                        <label for="part-price">Price ($)</label>
                        <input type="number" id="part-price" step="0.01" min="0" placeholder="0.00">
                    </div>
                </div>
                <div class="form-group">
                    <label for="part-notes">Notes</label>
                    <textarea id="part-notes" rows="3" placeholder="Additional information..."></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closePartModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Part</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Wheel Modal -->
    <div id="wheel-modal" class="modal">
        <div class="modal-content modal-wide">
            <div class="modal-header">
                <h2 id="wheel-modal-title">Add Wheel</h2>
                <button class="modal-close" onclick="closeWheelModal()">&times;</button>
            </div>
            <form id="wheel-form" enctype="multipart/form-data">
                <input type="hidden" id="wheel-id">
                
                <div class="form-group">
                    <label for="wheel-sku">SKU (Auto-generated)</label>
                    <input type="text" id="wheel-sku" readonly placeholder="Will be generated after saving" style="background: var(--gray-50); cursor: not-allowed;">
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="wheel-year">Year *</label>
                        <select id="wheel-year" required onchange="generateWheelSKU()">
                            <option value="">Select year</option>
                            <option value="2026">2026</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wheel-make">Make *</label>
                        <select id="wheel-make" required onchange="handleMakeChange()">
                            <option value="Subaru">Subaru</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group" id="wheel-make-other-group" style="display: none;">
                        <label for="wheel-make-other">Other Make</label>
                        <input type="text" id="wheel-make-other" placeholder="Enter make" onchange="generateWheelSKU()">
                    </div>
                    <div class="form-group">
                        <label for="wheel-model">Model *</label>
                        <select id="wheel-model" required onchange="handleModelChange()">
                            <option value="">Select model</option>
                            <option value="Outback">Outback</option>
                            <option value="Forester">Forester</option>
                            <option value="Ascent">Ascent</option>
                            <option value="Crosstrek">Crosstrek</option>
                            <option value="WRX">WRX</option>
                            <option value="BRZ">BRZ</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group" id="wheel-model-other-group" style="display: none;">
                        <label for="wheel-model-other">Other Model</label>
                        <input type="text" id="wheel-model-other" placeholder="Enter model" onchange="generateWheelSKU()">
                    </div>
                    <div class="form-group">
                        <label for="wheel-trim">Trim</label>
                        <select id="wheel-trim" onchange="generateWheelSKU()">
                            <option value="">Select trim (optional)</option>
                            <option value="Base">Base</option>
                            <option value="Premium">Premium</option>
                            <option value="Limited">Limited</option>
                            <option value="Sport">Sport</option>
                            <option value="Sport Hybrid">Sport Hybrid</option>
                            <option value="Limited Hybrid">Limited Hybrid</option>
                            <option value="Touring">Touring</option>
                            <option value="Touring Onyx Edition">Touring Onyx Edition</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wheel-size">Size *</label>
                        <input type="text" id="wheel-size" required placeholder="e.g., 18x7.5" onchange="generateWheelSKU()">
                    </div>
                    <div class="form-group">
                        <label for="wheel-bolt-pattern">Bolt Pattern *</label>
                        <select id="wheel-bolt-pattern" required onchange="generateWheelSKU()">
                            <option value="">Select bolt pattern</option>
                            <option value="5x100">5x100</option>
                            <option value="5x114.3">5x114.3</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wheel-offset">Offset</label>
                        <input type="text" id="wheel-offset" placeholder="e.g., +55mm">
                    </div>
                    <div class="form-group">
                        <label for="wheel-condition">Condition *</label>
                        <select id="wheel-condition" required>
                            <option value="">Select condition</option>
                            <option value="Excellent">Excellent</option>
                            <option value="Good">Good</option>
                            <option value="Fair">Fair</option>
                            <option value="Poor">Poor</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wheel-price">Price ($) *</label>
                        <input type="number" id="wheel-price" step="0.01" min="0" required placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label for="wheel-status">Status</label>
                        <select id="wheel-status">
                            <option value="Available">Available</option>
                            <option value="Sold">Sold</option>
                            <option value="Reserved">Reserved</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="wheel-notes">Notes</label>
                    <textarea id="wheel-notes" rows="3" placeholder="Condition details, scratches, curb rash, etc..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="wheel-images">Images (up to 10)</label>
                    <div class="file-upload">
                        <input type="file" id="wheel-images" accept="image/*" multiple>
                        <label for="wheel-images" class="file-upload-label">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <path d="M17 8L12 3L7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            <span>Click to upload or drag and drop</span>
                        </label>
                    </div>
                    <div id="image-preview" class="image-preview"></div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeWheelModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Wheel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Wheel Details Modal -->
    <div id="wheel-details-modal" class="modal">
        <div class="modal-content modal-wide">
            <div class="modal-header">
                <h2>Wheel Details</h2>
                <button class="modal-close" onclick="closeWheelDetailsModal()">&times;</button>
            </div>
            <div id="wheel-details-content">
                <!-- Content populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Template Modal -->
    <div id="template-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="template-modal-title">Add Wheel Template</h2>
                <button class="modal-close" onclick="closeTemplateModal()">&times;</button>
            </div>
            <form id="template-form">
                <input type="hidden" id="template-id">
                <div class="form-group">
                    <label for="template-name">Template Name *</label>
                    <input type="text" id="template-name" required placeholder="e.g., 2024 Outback Premium 18-inch">
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="template-year">Year *</label>
                        <select id="template-year" required>
                            <option value="">Select year</option>
                            <option value="2026">2026</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="template-make">Make *</label>
                        <select id="template-make" required onchange="handleTemplateMakeChange()">
                            <option value="Subaru">Subaru</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group" id="template-make-other-group" style="display: none;">
                        <label for="template-make-other">Other Make</label>
                        <input type="text" id="template-make-other" placeholder="Enter make">
                    </div>
                    <div class="form-group">
                        <label for="template-model">Model *</label>
                        <select id="template-model" required onchange="handleTemplateModelChange()">
                            <option value="">Select model</option>
                            <option value="Outback">Outback</option>
                            <option value="Forester">Forester</option>
                            <option value="Ascent">Ascent</option>
                            <option value="Crosstrek">Crosstrek</option>
                            <option value="WRX">WRX</option>
                            <option value="BRZ">BRZ</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group" id="template-model-other-group" style="display: none;">
                        <label for="template-model-other">Other Model</label>
                        <input type="text" id="template-model-other" placeholder="Enter model">
                    </div>
                    <div class="form-group">
                        <label for="template-trim">Trim</label>
                        <select id="template-trim">
                            <option value="">Select trim (optional)</option>
                            <option value="Base">Base</option>
                            <option value="Premium">Premium</option>
                            <option value="Limited">Limited</option>
                            <option value="Sport">Sport</option>
                            <option value="Touring">Touring</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="template-size">Size *</label>
                        <input type="text" id="template-size" required placeholder="e.g., 18x7.5">
                    </div>
                    <div class="form-group">
                        <label for="template-bolt-pattern">Bolt Pattern *</label>
                        <select id="template-bolt-pattern" required>
                            <option value="">Select bolt pattern</option>
                            <option value="5x100">5x100</option>
                            <option value="5x114.3">5x114.3</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="template-offset">Offset</label>
                        <input type="text" id="template-offset" placeholder="e.g., +55mm">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeTemplateModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Template</button>
                </div>
            </form>
        </div>
    </div>

    <!-- CSV Import Modal -->
    <div id="csv-import-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Import Wheels from CSV</h2>
                <button class="modal-close" onclick="closeCSVImportModal()">&times;</button>
            </div>
            <div style="padding: 1.25rem;">
                <div class="form-group">
                    <label>CSV File *</label>
                    <div class="file-upload">
                        <input type="file" id="csv-file-input" accept=".csv" onchange="handleCSVFileSelect(event)">
                        <label for="csv-file-input" class="file-upload-label">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <path d="M17 8L12 3L7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            <span>Click to upload CSV file</span>
                        </label>
                    </div>
                </div>

                <div style="background: rgba(0, 102, 204, 0.05); border: 1px solid rgba(0, 102, 204, 0.2); border-radius: var(--radius-lg); padding: 1rem; margin-bottom: 1rem;">
                    <h4 style="font-size: 0.8125rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--primary);">CSV Format Requirements:</h4>
                    <p style="font-size: 0.75rem; color: var(--text-secondary); line-height: 1.6;">
                        Your CSV should include these columns (header row required):<br>
                        <strong>year, make, model, trim, size, boltPattern, offset, condition, price, status, notes</strong>
                        <br><br>
                        <em>Note: SKUs will be auto-generated for all imported wheels. Do not include a SKU column.</em>
                    </p>
                </div>

                <div id="csv-preview" style="display: none;">
                    <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.75rem;">Preview (first 5 rows)</h4>
                    <div id="csv-preview-content" style="overflow-x: auto; margin-bottom: 1rem;"></div>
                    <p id="csv-row-count" style="font-size: 0.8125rem; color: var(--text-secondary); margin-bottom: 1rem;"></p>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeCSVImportModal()">Cancel</button>
                    <button type="button" class="btn btn-primary" id="csv-import-btn" onclick="processCSVImport()" disabled>Import Wheels</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
