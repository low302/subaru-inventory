<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subaru Parts Inventory - Alia Fabrication</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
    <!-- App Bar -->
    <header class="md-top-app-bar">
        <div class="md-top-app-bar__container">
            <div class="md-top-app-bar__leading">
                <div class="logo">
                    <span class="material-symbols-outlined logo-icon">settings</span>
                    <span class="logo-text">Alia Fabrication</span>
                </div>
            </div>
            <div class="md-top-app-bar__trailing">
                <nav class="md-tabs">
                    <button class="md-tab active" data-view="oem-parts">
                        <span class="md-tab__content">
                            <span class="material-symbols-outlined">inventory_2</span>
                            <span class="md-tab__text">OEM Parts</span>
                        </span>
                        <div class="md-tab__indicator"></div>
                    </button>
                    <button class="md-tab" data-view="wheels">
                        <span class="md-tab__content">
                            <span class="material-symbols-outlined">tire_repair</span>
                            <span class="md-tab__text">Wheels</span>
                        </span>
                        <div class="md-tab__indicator"></div>
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="md-main">
        <!-- OEM Parts View -->
        <div id="oem-parts-view" class="view active">
            <div class="view-header">
                <div class="view-title-section">
                    <h1 class="md-headline-large">OEM Parts Inventory</h1>
                    <p class="md-body-medium on-surface-variant">Genuine Subaru replacement parts</p>
                </div>
                <button class="md-fab md-fab-primary" onclick="openAddPartModal()">
                    <span class="material-symbols-outlined">add</span>
                </button>
            </div>

            <div class="stats-grid">
                <div class="md-card stat-card">
                    <div class="stat-icon primary">
                        <span class="material-symbols-outlined">inventory_2</span>
                    </div>
                    <div class="stat-content">
                        <div class="md-headline-medium" id="oem-total">0</div>
                        <div class="md-label-large">Total Parts</div>
                    </div>
                </div>
                <div class="md-card stat-card">
                    <div class="stat-icon secondary">
                        <span class="material-symbols-outlined">check_circle</span>
                    </div>
                    <div class="stat-content">
                        <div class="md-headline-medium" id="oem-in-stock">0</div>
                        <div class="md-label-large">In Stock</div>
                    </div>
                </div>
                <div class="md-card stat-card">
                    <div class="stat-icon tertiary">
                        <span class="material-symbols-outlined">priority_high</span>
                    </div>
                    <div class="stat-content">
                        <div class="md-headline-medium" id="oem-low-stock">0</div>
                        <div class="md-label-large">Low Stock</div>
                    </div>
                </div>
            </div>

            <div class="md-card search-card">
                <div class="md-text-field">
                    <span class="material-symbols-outlined md-text-field__icon">search</span>
                    <input type="text" id="oem-search" placeholder="Search parts..." class="md-text-field__input">
                </div>
            </div>

            <div class="md-card table-card">
                <table class="md-table">
                    <thead>
                        <tr>
                            <th class="md-label-large">Part Number</th>
                            <th class="md-label-large">Name</th>
                            <th class="md-label-large">Category</th>
                            <th class="md-label-large">Quantity</th>
                            <th class="md-label-large">Location</th>
                            <th class="md-label-large">Price</th>
                            <th class="md-label-large">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="oem-parts-tbody">
                        <!-- Data populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Wheels View -->
        <div id="wheels-view" class="view">
            <div class="view-header">
                <div class="view-title-section">
                    <h1 class="md-headline-large">OEM Wheel Take-Offs</h1>
                    <p class="md-body-medium on-surface-variant">Individual inventory with unique SKUs</p>
                </div>
                <button class="md-fab md-fab-primary" onclick="openAddWheelModal()">
                    <span class="material-symbols-outlined">add</span>
                </button>
            </div>

            <div class="stats-grid">
                <div class="md-card stat-card">
                    <div class="stat-icon primary">
                        <span class="material-symbols-outlined">attach_money</span>
                    </div>
                    <div class="stat-content">
                        <div class="md-headline-medium" id="wheels-total-value">$0.00</div>
                        <div class="md-label-large">Total Inventory Value</div>
                    </div>
                </div>
                <div class="md-card stat-card">
                    <div class="stat-icon secondary">
                        <span class="material-symbols-outlined">inventory</span>
                    </div>
                    <div class="stat-content">
                        <div class="md-headline-medium" id="wheels-not-sold">0</div>
                        <div class="md-label-large">Not Sold</div>
                    </div>
                </div>
                <div class="md-card stat-card">
                    <div class="stat-icon tertiary">
                        <span class="material-symbols-outlined">shopping_cart_checkout</span>
                    </div>
                    <div class="stat-content">
                        <div class="md-headline-medium" id="wheels-sold">0</div>
                        <div class="md-label-large">Sold</div>
                    </div>
                </div>
            </div>

            <div class="md-card search-card">
                <div class="md-text-field">
                    <span class="material-symbols-outlined md-text-field__icon">search</span>
                    <input type="text" id="wheels-search" placeholder="Search wheels..." class="md-text-field__input">
                </div>
            </div>

            <div class="md-card table-card">
                <table class="md-table">
                    <thead>
                        <tr>
                            <th class="md-label-large">Image</th>
                            <th class="md-label-large">SKU</th>
                            <th class="md-label-large">Vehicle</th>
                            <th class="md-label-large">Size</th>
                            <th class="md-label-large">Bolt Pattern</th>
                            <th class="md-label-large">Condition</th>
                            <th class="md-label-large">Price</th>
                            <th class="md-label-large">Status</th>
                            <th class="md-label-large">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="wheels-tbody">
                        <!-- Data populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- OEM Part Modal -->
    <div id="part-modal" class="md-dialog-scrim">
        <div class="md-dialog">
            <div class="md-dialog__header">
                <h2 class="md-headline-small" id="part-modal-title">Add OEM Part</h2>
                <button class="md-icon-button" onclick="closePartModal()">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <form id="part-form" class="md-dialog__content">
                <input type="hidden" id="part-id">
                <div class="form-grid">
                    <div class="md-text-field-outlined">
                        <input type="text" id="part-number" required>
                        <label>Part Number *</label>
                    </div>
                    <div class="md-text-field-outlined">
                        <input type="text" id="part-name" required>
                        <label>Part Name *</label>
                    </div>
                    <div class="md-text-field-outlined">
                        <input type="text" id="part-category">
                        <label>Category</label>
                    </div>
                    <div class="md-text-field-outlined">
                        <input type="number" id="part-quantity" required min="0" value="1">
                        <label>Quantity *</label>
                    </div>
                    <div class="md-text-field-outlined">
                        <input type="text" id="part-location">
                        <label>Location</label>
                    </div>
                    <div class="md-text-field-outlined">
                        <input type="number" id="part-price" step="0.01" min="0">
                        <label>Price ($)</label>
                    </div>
                </div>
                <div class="md-text-field-outlined full-width">
                    <textarea id="part-notes" rows="3"></textarea>
                    <label>Notes</label>
                </div>
                <div class="md-dialog__actions">
                    <button type="button" class="md-button md-button-text" onclick="closePartModal()">Cancel</button>
                    <button type="submit" class="md-button md-button-filled">Save Part</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Wheel Modal -->
    <div id="wheel-modal" class="md-dialog-scrim">
        <div class="md-dialog md-dialog-large">
            <div class="md-dialog__header">
                <h2 class="md-headline-small" id="wheel-modal-title">Add Wheel</h2>
                <button class="md-icon-button" onclick="closeWheelModal()">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <form id="wheel-form" class="md-dialog__content" enctype="multipart/form-data">
                <input type="hidden" id="wheel-id">
                
                <div class="md-text-field-outlined full-width">
                    <input type="text" id="wheel-sku" readonly>
                    <label>SKU (Auto-generated)</label>
                </div>
                
                <div class="form-grid">
                    <div class="md-select-outlined">
                        <select id="wheel-year" required onchange="generateWheelSKU()">
                            <option value="">Select year</option>
                            <option value="2026">2026</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                        </select>
                        <label>Year *</label>
                    </div>
                    <div class="md-select-outlined">
                        <select id="wheel-make" required onchange="handleMakeChange()">
                            <option value="Subaru">Subaru</option>
                            <option value="Other">Other</option>
                        </select>
                        <label>Make *</label>
                    </div>
                    <div class="md-text-field-outlined" id="wheel-make-other-group" style="display: none;">
                        <input type="text" id="wheel-make-other" onchange="generateWheelSKU()">
                        <label>Other Make</label>
                    </div>
                    <div class="md-select-outlined">
                        <select id="wheel-model" required onchange="handleModelChange()">
                            <option value="">Select model</option>
                            <option value="Outback">Outback</option>
                            <option value="Forester">Forester</option>
                            <option value="Ascent">Ascent</option>
                            <option value="Crosstrek">Crosstrek</option>
                            <option value="WRX">WRX</option>
                            <option value="BRZ">BRZ</option>
                            <option value="Other">Other</option>
                        </select>
                        <label>Model *</label>
                    </div>
                    <div class="md-text-field-outlined" id="wheel-model-other-group" style="display: none;">
                        <input type="text" id="wheel-model-other" onchange="generateWheelSKU()">
                        <label>Other Model</label>
                    </div>
                    <div class="md-select-outlined">
                        <select id="wheel-trim" onchange="generateWheelSKU()">
                            <option value="">Select trim (optional)</option>
                            <option value="Base">Base</option>
                            <option value="Premium">Premium</option>
                            <option value="Limited">Limited</option>
                            <option value="Sport">Sport</option>
                            <option value="Sport Hybrid">Sport Hybrid</option>
                            <option value="Limited Hybrid">Limited Hybrid</option>
                            <option value="Touring">Touring</option>
                            <option value="Touring Onyx Edition">Touring Onyx Edition</option>
                        </select>
                        <label>Trim</label>
                    </div>
                    <div class="md-text-field-outlined">
                        <input type="text" id="wheel-size" required onchange="generateWheelSKU()">
                        <label>Size *</label>
                    </div>
                    <div class="md-select-outlined">
                        <select id="wheel-bolt-pattern" required onchange="generateWheelSKU()">
                            <option value="">Select bolt pattern</option>
                            <option value="5x100">5x100</option>
                            <option value="5x114.3">5x114.3</option>
                        </select>
                        <label>Bolt Pattern *</label>
                    </div>
                    <div class="md-text-field-outlined">
                        <input type="text" id="wheel-offset">
                        <label>Offset</label>
                    </div>
                    <div class="md-select-outlined">
                        <select id="wheel-condition" required>
                            <option value="">Select condition</option>
                            <option value="Excellent">Excellent</option>
                            <option value="Good">Good</option>
                            <option value="Fair">Fair</option>
                            <option value="Poor">Poor</option>
                        </select>
                        <label>Condition *</label>
                    </div>
                    <div class="md-text-field-outlined">
                        <input type="number" id="wheel-price" step="0.01" min="0" required>
                        <label>Price ($) *</label>
                    </div>
                    <div class="md-select-outlined">
                        <select id="wheel-status">
                            <option value="Available">Available</option>
                            <option value="Sold">Sold</option>
                            <option value="Reserved">Reserved</option>
                        </select>
                        <label>Status</label>
                    </div>
                </div>
                
                <div class="md-text-field-outlined full-width">
                    <textarea id="wheel-notes" rows="3"></textarea>
                    <label>Notes</label>
                </div>
                
                <div class="file-upload-section">
                    <label class="md-label-large">Images (up to 10)</label>
                    <input type="file" id="wheel-images" accept="image/*" multiple style="display: none;">
                    <button type="button" class="md-button md-button-outlined" onclick="document.getElementById('wheel-images').click()">
                        <span class="material-symbols-outlined">upload</span>
                        Choose Files
                    </button>
                    <div id="image-preview" class="image-preview"></div>
                </div>
                
                <div class="md-dialog__actions">
                    <button type="button" class="md-button md-button-text" onclick="closeWheelModal()">Cancel</button>
                    <button type="submit" class="md-button md-button-filled">Save Wheel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Wheel Details Modal -->
    <div id="wheel-details-modal" class="md-dialog-scrim">
        <div class="md-dialog md-dialog-large">
            <div class="md-dialog__header">
                <h2 class="md-headline-small">Wheel Details</h2>
                <button class="md-icon-button" onclick="closeWheelDetailsModal()">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div id="wheel-details-content" class="md-dialog__content">
                <!-- Content populated by JavaScript -->
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
